{"mappings":"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","sources":["<anon>","src/editor.mjs"],"sourcesContent":["var $parcel$global =\ntypeof globalThis !== 'undefined'\n  ? globalThis\n  : typeof self !== 'undefined'\n  ? self\n  : typeof window !== 'undefined'\n  ? window\n  : typeof global !== 'undefined'\n  ? global\n  : {};\nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequire2300\"];\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequire2300\"] = parcelRequire;\n}\n\nvar $2NMNG = parcelRequire(\"2NMNG\");\n/** @type {HTMLDivElement} */ const $05e6afe1cba9bc5a$var$editorContainer = document.getElementById(\"editor\");\n/** @type {HTMLDivElement} */ const $05e6afe1cba9bc5a$var$nodesContainer = document.getElementById(\"nodes\");\n/** @type {HTMLDivElement} */ const $05e6afe1cba9bc5a$var$layerControlContainer = document.getElementById(\"layer-control\");\nvar $05e6afe1cba9bc5a$var$layers = 2;\n/**\r\n * @param {boolean} deleteButton\r\n * @returns {HTMLDivElement}\r\n */ function $05e6afe1cba9bc5a$var$generateInput(deleteButton, depth) {\n    const input = document.createElement(\"input\");\n    const container = document.createElement(\"div\");\n    input.type = \"text\";\n    input.oninput = $05e6afe1cba9bc5a$var$parseEditor;\n    container.appendChild(input);\n    container.classList.add(\"editor-input\");\n    container.classList.add(\"depth-\" + depth);\n    const childrenContainer = document.createElement(\"div\");\n    childrenContainer.classList.add(\"children\");\n    container.appendChild(childrenContainer);\n    if (deleteButton) {\n        input.addEventListener(\"mouseover\", (ev)=>{\n            const xButton = document.createElement(\"button\");\n            xButton.classList.add([\n                \"x-button\"\n            ]);\n            xButton.innerText = \"x\";\n            xButton.addEventListener(\"click\", (ev)=>{\n                ev.target.parentNode.remove();\n            });\n            ev.target.parentNode.insertBefore(xButton, childrenContainer);\n        });\n        input.addEventListener(\"mouseleave\", (ev)=>{\n            /** @type {HTMLDivElement} */ const container = ev.target.parentNode;\n            const buttons = container.getElementsByClassName(\"x-button\");\n            Array.from(buttons).forEach((button)=>{\n                button.remove();\n            });\n        });\n    }\n    return container;\n}\nfunction $05e6afe1cba9bc5a$var$parseEditor() {\n    let tree = $05e6afe1cba9bc5a$var$parseEditorTree(document, 0);\n    console.log(tree);\n    (0, $2NMNG.parseWheelData)(tree);\n    (0, $2NMNG.generateWheel)();\n}\n/**\r\n * @param {HTMLDivElement} parent\r\n * @param {number} depth\r\n */ function $05e6afe1cba9bc5a$var$parseEditorTree(parent, depth) {\n    let tree = {};\n    let children = Array.from(parent.getElementsByClassName(\"depth-\" + depth));\n    children.forEach((child)=>{\n        let childValue = child.getElementsByTagName(\"input\").item(0).value;\n        if (child.getElementsByClassName(\"depth-\" + (depth + 1)).length > 0) tree[childValue] = $05e6afe1cba9bc5a$var$parseEditorTree(child, depth + 1);\n        else tree[childValue] = \"\";\n    });\n    return tree;\n}\n/**\r\n * @param {number} depth\r\n */ function $05e6afe1cba9bc5a$var$generatePlusButton(depth) {\n    const plusButton = document.createElement(\"button\");\n    plusButton.classList.add(\"plus-button\");\n    plusButton.textContent = \"+\";\n    plusButton.addEventListener(\"click\", (ev)=>{\n        /** @type {HTMLButtonElement} */ const button = ev.target;\n        let parent = button.parentElement.insertBefore($05e6afe1cba9bc5a$var$generateInput(true, depth), button);\n        if (depth < $05e6afe1cba9bc5a$var$layers - 1) for(let i = depth + 1; i < $05e6afe1cba9bc5a$var$layers; i++){\n            let childrenContainer = parent.lastChild;\n            let plusButton = childrenContainer.appendChild($05e6afe1cba9bc5a$var$generatePlusButton(i));\n            parent = childrenContainer.insertBefore($05e6afe1cba9bc5a$var$generateInput(false, i), plusButton);\n        }\n    });\n    return plusButton;\n}\n$05e6afe1cba9bc5a$var$nodesContainer.appendChild($05e6afe1cba9bc5a$var$generateInput(false, 0));\n$05e6afe1cba9bc5a$var$nodesContainer.appendChild($05e6afe1cba9bc5a$var$generateInput(true, 0));\n$05e6afe1cba9bc5a$var$nodesContainer.appendChild($05e6afe1cba9bc5a$var$generatePlusButton(0));\nArray.from($05e6afe1cba9bc5a$var$nodesContainer.getElementsByClassName(\"editor-input\")).forEach((node)=>{\n    node.lastChild.appendChild($05e6afe1cba9bc5a$var$generateInput(false, 1));\n    node.lastChild.appendChild($05e6afe1cba9bc5a$var$generatePlusButton(1));\n});\nfunction $05e6afe1cba9bc5a$var$generateLayerController(depth) {\n    const controllerDiv = document.createElement(\"div\");\n    controllerDiv.classList.add(\"layer-controller\");\n    if (depth + 1 < $05e6afe1cba9bc5a$var$layers || depth === 0) controllerDiv.textContent = depth;\n    else if (depth + 1 === $05e6afe1cba9bc5a$var$layers) {\n        controllerDiv.textContent = depth;\n        const removeButton = document.createElement(\"button\");\n        removeButton.classList.add(\"x-button\");\n        removeButton.textContent = \"x\";\n        removeButton.addEventListener(\"click\", ()=>{\n            $05e6afe1cba9bc5a$var$layers--;\n            $05e6afe1cba9bc5a$var$refreshLayerController();\n            const depthInputs = document.getElementsByClassName(\"depth-\" + $05e6afe1cba9bc5a$var$layers);\n            Array.from(depthInputs).forEach((input)=>{\n                if (input.nextSibling.tagName === \"BUTTON\") input.nextSibling.remove();\n                input.remove();\n            });\n            $05e6afe1cba9bc5a$var$parseEditor();\n        });\n        controllerDiv.appendChild(removeButton);\n    } else {\n        const addButton = document.createElement(\"button\");\n        addButton.classList.add(\"plus-button\");\n        addButton.textContent = \"+\";\n        addButton.addEventListener(\"click\", ()=>{\n            $05e6afe1cba9bc5a$var$layers++;\n            $05e6afe1cba9bc5a$var$refreshLayerController();\n            const depthInputs = document.getElementsByClassName(\"depth-\" + ($05e6afe1cba9bc5a$var$layers - 2));\n            Array.from(depthInputs).forEach((input)=>{\n                input.lastChild.appendChild($05e6afe1cba9bc5a$var$generateInput(false, $05e6afe1cba9bc5a$var$layers - 1));\n                input.lastChild.appendChild($05e6afe1cba9bc5a$var$generatePlusButton($05e6afe1cba9bc5a$var$layers - 1));\n            });\n            $05e6afe1cba9bc5a$var$parseEditor();\n        });\n        controllerDiv.appendChild(addButton);\n    }\n    return controllerDiv;\n}\nfunction $05e6afe1cba9bc5a$var$refreshLayerController() {\n    Array.from($05e6afe1cba9bc5a$var$layerControlContainer.children).forEach((child)=>{\n        child.remove();\n    });\n    for(let i = 0; i <= $05e6afe1cba9bc5a$var$layers; i++)$05e6afe1cba9bc5a$var$layerControlContainer.appendChild($05e6afe1cba9bc5a$var$generateLayerController(i));\n}\n$05e6afe1cba9bc5a$var$refreshLayerController();\n\n\n//# sourceMappingURL=index.be28e896.js.map\n","import { parseWheelData, generateWheel } from \"./wheel-gen.mjs\";\r\n\r\n/** @type {HTMLDivElement} */\r\nconst editorContainer = document.getElementById(\"editor\");\r\n/** @type {HTMLDivElement} */\r\nconst nodesContainer = document.getElementById(\"nodes\");\r\n/** @type {HTMLDivElement} */\r\nconst layerControlContainer = document.getElementById(\"layer-control\");\r\nvar layers = 2;\r\n\r\n/**\r\n * @param {boolean} deleteButton\r\n * @returns {HTMLDivElement}\r\n */\r\nfunction generateInput(deleteButton, depth) {\r\n  const input = document.createElement(\"input\");\r\n  const container = document.createElement(\"div\");\r\n  input.type = \"text\";\r\n  input.oninput = parseEditor;\r\n  container.appendChild(input);\r\n  container.classList.add(\"editor-input\");\r\n  container.classList.add(\"depth-\" + depth);\r\n  const childrenContainer = document.createElement(\"div\");\r\n  childrenContainer.classList.add(\"children\");\r\n  container.appendChild(childrenContainer);\r\n  if (deleteButton) {\r\n    input.addEventListener(\"mouseover\", (ev) => {\r\n      const xButton = document.createElement(\"button\");\r\n      xButton.classList.add([\"x-button\"]);\r\n      xButton.innerText = \"x\";\r\n      xButton.addEventListener(\"click\", (ev) => {\r\n        ev.target.parentNode.remove();\r\n      });\r\n      ev.target.parentNode.insertBefore(xButton, childrenContainer);\r\n    });\r\n    input.addEventListener(\"mouseleave\", (ev) => {\r\n      /** @type {HTMLDivElement} */\r\n      const container = ev.target.parentNode;\r\n      const buttons = container.getElementsByClassName(\"x-button\");\r\n      Array.from(buttons).forEach((button) => {\r\n        button.remove();\r\n      });\r\n    });\r\n  }\r\n  return container;\r\n}\r\n\r\nfunction parseEditor() {\r\n  let tree = parseEditorTree(document, 0);\r\n  console.log(tree);\r\n  parseWheelData(tree);\r\n  generateWheel();\r\n}\r\n\r\n/**\r\n * @param {HTMLDivElement} parent\r\n * @param {number} depth\r\n */\r\nfunction parseEditorTree(parent, depth) {\r\n  let tree = {};\r\n  let children = Array.from(parent.getElementsByClassName(\"depth-\" + depth));\r\n  children.forEach((child) => {\r\n    let childValue = child.getElementsByTagName(\"input\").item(0).value;\r\n    if (child.getElementsByClassName(\"depth-\" + (depth + 1)).length > 0) {\r\n      tree[childValue] = parseEditorTree(child, depth + 1);\r\n    } else {\r\n      tree[childValue] = \"\";\r\n    }\r\n  });\r\n  return tree;\r\n}\r\n\r\n/**\r\n * @param {number} depth\r\n */\r\nfunction generatePlusButton(depth) {\r\n  const plusButton = document.createElement(\"button\");\r\n  plusButton.classList.add(\"plus-button\");\r\n  plusButton.textContent = \"+\";\r\n  plusButton.addEventListener(\"click\", (ev) => {\r\n    /** @type {HTMLButtonElement} */\r\n    const button = ev.target;\r\n    let parent = button.parentElement.insertBefore(\r\n      generateInput(true, depth),\r\n      button\r\n    );\r\n    if (depth < layers - 1) {\r\n      for (let i = depth + 1; i < layers; i++) {\r\n        let childrenContainer = parent.lastChild;\r\n        let plusButton = childrenContainer.appendChild(generatePlusButton(i));\r\n        parent = childrenContainer.insertBefore(\r\n          generateInput(false, i),\r\n          plusButton\r\n        );\r\n      }\r\n    }\r\n  });\r\n  return plusButton;\r\n}\r\n\r\nnodesContainer.appendChild(generateInput(false, 0));\r\nnodesContainer.appendChild(generateInput(true, 0));\r\nnodesContainer.appendChild(generatePlusButton(0));\r\nArray.from(nodesContainer.getElementsByClassName(\"editor-input\")).forEach(\r\n  (node) => {\r\n    node.lastChild.appendChild(generateInput(false, 1));\r\n    node.lastChild.appendChild(generatePlusButton(1));\r\n  }\r\n);\r\n\r\nfunction generateLayerController(depth) {\r\n  const controllerDiv = document.createElement(\"div\");\r\n  controllerDiv.classList.add(\"layer-controller\");\r\n  if (depth + 1 < layers || depth === 0) {\r\n    controllerDiv.textContent = depth;\r\n  } else if (depth + 1 === layers) {\r\n    controllerDiv.textContent = depth;\r\n    const removeButton = document.createElement(\"button\");\r\n    removeButton.classList.add(\"x-button\");\r\n    removeButton.textContent = \"x\";\r\n    removeButton.addEventListener(\"click\", () => {\r\n      layers--;\r\n      refreshLayerController();\r\n\r\n      const depthInputs = document.getElementsByClassName(\"depth-\" + layers);\r\n      Array.from(depthInputs).forEach((input) => {\r\n        if (input.nextSibling.tagName === \"BUTTON\") {\r\n          input.nextSibling.remove();\r\n        }\r\n        input.remove();\r\n      });\r\n\r\n      parseEditor();\r\n    });\r\n    controllerDiv.appendChild(removeButton);\r\n  } else {\r\n    const addButton = document.createElement(\"button\");\r\n    addButton.classList.add(\"plus-button\");\r\n    addButton.textContent = \"+\";\r\n    addButton.addEventListener(\"click\", () => {\r\n      layers++;\r\n      refreshLayerController();\r\n\r\n      const depthInputs = document.getElementsByClassName(\r\n        \"depth-\" + (layers - 2)\r\n      );\r\n      Array.from(depthInputs).forEach((input) => {\r\n        input.lastChild.appendChild(generateInput(false, layers - 1));\r\n        input.lastChild.appendChild(generatePlusButton(layers - 1));\r\n      });\r\n\r\n      parseEditor();\r\n    });\r\n    controllerDiv.appendChild(addButton);\r\n  }\r\n  return controllerDiv;\r\n}\r\n\r\nfunction refreshLayerController() {\r\n  Array.from(layerControlContainer.children).forEach((child) => {\r\n    child.remove();\r\n  });\r\n  for (let i = 0; i <= layers; i++) {\r\n    layerControlContainer.appendChild(generateLayerController(i));\r\n  }\r\n}\r\n\r\nrefreshLayerController();\r\n"],"names":["$parcel$global","globalThis","self","window","global","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","$2NMNG","document","getElementById","$05e6afe1cba9bc5a$var$nodesContainer","$05e6afe1cba9bc5a$var$layerControlContainer","$05e6afe1cba9bc5a$var$layers","$05e6afe1cba9bc5a$var$generateInput","deleteButton","depth","input","createElement","container","type","oninput","$05e6afe1cba9bc5a$var$parseEditor","appendChild","classList","add","childrenContainer","addEventListener","ev","xButton","innerText","target","parentNode","remove","insertBefore","buttons","getElementsByClassName","Array","from","forEach","button","tree","$05e6afe1cba9bc5a$var$parseEditorTree","parent","children","child","childValue","getElementsByTagName","item","value","length","console","log","parseWheelData","generateWheel","$05e6afe1cba9bc5a$var$generatePlusButton","plusButton","textContent","parentElement","i","lastChild","node","$05e6afe1cba9bc5a$var$refreshLayerController","$05e6afe1cba9bc5a$var$generateLayerController","controllerDiv","removeButton","depthInputs","nextSibling","tagName","addButton"],"version":3,"file":"index.be28e896.js.map"}